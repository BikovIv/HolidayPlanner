<!DOCTYPE html>
<html> <!--xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" NOT WORKING???-->
<head>
<meta charset="UTF-8">
<title>Holiday Planner</title>

 	<meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="assets/css/main.css" rel="stylesheet">
    <link href="assets/css/custom_style.css" rel="stylesheet">
    
    <link rel="stylesheet" href="assets/css/bootstrap.css">


    <script src="js/vendor/jquery/jquery-1.12.1.min.js"></script>
    <script src="js/vendor/bootstrap/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
</head>
<body>
	<div class="login-page" "> <!-- style="background-image: url(assets/img/winter-index-img.png); background-size: 100%; -->
	    
	
	    <div class="custom-body-container">
		   <header id="header">
					<div class="header-top">
						<div class="container">
				  		<div class="row align-items-center">
				  			<!--<div class="col-lg-6 col-sm-6 col-6 header-top-left">
				  				<ul>
				  					<li><a href="#">Visit Us</a></li>
				  					<li><a href="#">Buy Tickets</a></li>
				  				</ul>			
				  			</div>-->	 	
				  			<div class="col-lg-6 col-sm-6 col-6 header-top-right">
								<div class="header-social">
									<a href="#"><i src="img/icons/facebook_icon.png"></i></a>
									<a href="#"><i class="fa fa-twitter"></i></a>
									<a href="#"><i class="fa fa-dribbble"></i></a>
									<a href="#"><i class="fa fa-behance"></i></a>
								</div>
				  			</div>
				  		</div>			  					
						</div>
					</div>
					<div class="container main-menu">
						<div class="row align-items-center justify-content-between d-flex">
					       <div id="logo-index">
					        <a href="index.html"><img src="assets/img/logo-HP.png" alt="" title="" /></a>
					      </div> 
					      <nav id="nav-menu-container">
					        <ul class="nav-menu sf-js-enabled sf-arrows" style="touch-action: pan-y;">
					          <!--<li><button id="add-activity" type="button" class="primary-btn text-uppercase" data-toggle="modal" onClick="renderUserActivityInsertForm()">Add new activity</button></li>-->
					          <li hidden><a href="index.html">Home</a></li>
					          <li hidden><a href="about.html">About</a></li>
					          <!--<li><a href="packages.html">Packages</a></li>-->
					          <li hidden><a href="hotels.html">Hotels</a></li>
					          <!--<li><a href="insurance.html">Insurence</a></li>
					          <li hidden class="menu-has-children"><a href="">Blog</a>
					            <ul>
					              <li  hidden><a href="blog-home.html">Blog Home</a></li>
					              <li  hidden><a href="blog-single.html">Blog Single</a></li>
					            </ul>
					          </li>	
					          <li  hidden class="menu-has-children"><a href="">Pages</a>
					            <ul>
					            	  <li  hidden><a href="elements.html">Elements</a></li>
							          <li z class="menu-has-children"><a href="">Level 2 </a>
							            <ul>
							              < style="display:none"li><a href="#">Item One</a></li>
							              < style="display:none"li><a href="#">Item Two</a></li>
							            </ul>
							          </li>					                		
					            </ul>
					          </li>-->				          					          		          
					          <li  hidden><a href="contact.html">Contact</a></li>
					        </ul>
					      </nav><!-- #nav-menu-container -->					      		  
						</div>
					</div>
				</header><!-- #header -->
				
				
				<div class="col-lg-6 col-md-6 banner-left" style="top:30%; left:10%;">
							<h2 class="text-white" style="font-size:35px;margin-bottom:10%;	">Holiday Planner</h2> 
							
							<p style="font-size:14px;font-weight:bold;" class="text-white">If you need a well organized trip you are in right place.</p>
							
							<p style="font-size:14px;font-weight:bold;" class="text-white">
								Log in or Sing up for free.
							</p>
							<p style="font-size:14px;font-weight:bold;" class="text-white">
								Check for your preferred trip or modify it to fit your requirements.
							</p>
						</div>
	        
	        
	           <div id="login-modal" class="modal fade" tabindex="-1" role="dialog" style="top:25%">
	        	<div class="modal-dialog modal-sm" style="top:15%">
	            <div class="modal-content">
	                 
	                <form id="login-form" class="modal-body" >
	         <div class="modal-header"> 
	         <h2>Login form</h2>
	         
	         </div>
	                    <div class="form-group">
	                        <label for="username">Username</label>
	                        <div class="input-group">
	                            <span class="input-group-addon"><i class="fa fa-user"></i></span>
	                            <input type="text" class="form-control" id="username" name="username" placeholder="Потребител">
	                        </div>
	                        <p class="help-block">The field username is empty</p>
	                    </div>
	                    <div class="form-group">
	                        <label for="password">Password</label>
	                        <div class="input-group">
	                            <span class="input-group-addon"><i class="fa fa-lock"></i></span>
	                            <input type="password" class="form-control" id="password" name="password" placeholder="Парола">
	                        </div>
	                        <p class="help-block">The field password is empty</p>
	                    </div>
	                    <button type="submit" class="login-button">Login</button>
	                    <input type="hidden" name="action" value="login">
	                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	                </form>
	           
	                </div><!-- /.modal-content -->
	        </div><!-- /.modal-dialog -->
	       </div>
	        
	<!--<div sec:authorize="isAuthenticated()"> NOT WORKING??-->
	<!-- GET ALL ROLES <ul class="list-group" style="min-height:241px;" id="comments-list">                                                
		<li class="list-group-item" style="display: none;" id="cloneMe">
		    <div class="row">
		        <div class="col-sm-2 col-xs-3">
		            <img src="assets/img/icons/clear_sky.png" class="thumbnail img-responsive">
		        </div>
		        <div class="col-sm-7 col-xs-6">
		            <span class="label label-success"><span class="current-temp">27</span> ℃</span>
		            <h4>Пловдив</h4>
		            <p>Времето беше супер. Разхождах се по главната. Купих си сладолед и пих вода от чешмичката на джумаята. </p>
		        </div>
		        <div class="col-sm-3 col-xs-3">
		            <button type="button" class="btn btn-danger pull-right remove-post"><span class="glyphicon glyphicon-remove"></span><span class="hidden-xs"> Изтрий</span></button>
		        </div>
		    </div>
		</li> 
	</ul>
	<button class="btn btn-success" onclick="getAllRoles()">Add Role</button> --><!--  </div>   -->    
	
	        <div id="register-modal" class="modal fade" tabindex="-1" role="dialog">
	        <div class="modal-dialog modal-sm">
	            <div class="modal-content">
	                <div class="modal-header">
	                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	                    <h4 class="modal-title">Register</h4>
	                </div>
	                <div class="modal-body">
	
	                    <form id="register-form" action="/register" method="POST">
	                        <div class="form-group">
	                            <label for="register-user">Username</label>
	                            <input type="text" class="form-control" id="register-user" name="username" placeholder="Потребител">
	                            <p class="help-block">Полето "потребител" е празно</p>
	                        </div>
	                        <div class="form-group">
	                            <label for="register-email">Email</label>
	                            <input type="email" class="form-control" id="register-email" name="email" placeholder="example@gmail.com">
	                            <p class="help-block">Полето "Email" е празно</p>
	                        </div>
	                        <div class="form-group">
	                            <label for="register-pass">Password</label>
	                            <input type="password" class="form-control" id="register-pass" name="password" placeholder="Парола">
	                            <p class="help-block">Полето "парола" е празно</p>
	                        </div>
	                        <div class="form-group">
	                            <label for="confirm-register-pass">Repeat password</label>
	                            <input type="password" class="form-control" id="confirm-register-pass" name="repeatPassword" placeholder="Парола">
	                            <p class="help-block">Полето "парола" е празно</p>
	                        </div>
	                    </form>
	
	                </div>
	                <div class="modal-footer">
	                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	                    <button type="submit" form="register-form"  class="btn btn-success">Register</button>
	                </div>
	            </div><!-- /.modal-content -->
	        </div><!-- /.modal-dialog -->
	    </div><!-- /.register-modal -->
	        
	    </div> <!-- custom-body-container end-->
	    
	</div> <!--login-page-->


<footer>
	  <div class="custom-footer-container">
	<div class="footer-button-div">
		<button id="login" type="button" class="login-button" data-toggle="modal" data-target="#login-modal">Login</button>
		<button id="register" type="button" class="signup-button" data-toggle="modal" data-target="#register-modal">Sign Up</button>
	</div>
	 </div>
	
</footer>

<script>
    bindEvents();    
    
    function getAllRoles(){
		$.ajax({
			url: "/role/all",
			method: "GET",
			success: function(data){
				data.forEach(function(role){
					addRoleToUI(role.code, role.description);
				});  				
			}    			
		});
		
	}

    function addRoleToUI(code, description, id){
		var theNewRole = $('#cloneMe').clone();
		
		theNewRole.find('h4').text(code);
		theNewRole.find('p').text(description);
		//theNewRole.find('.current-temp').text(temp);
		//theNewRole.attr('id', '');
		
		//image = 'assets/img/icons/';
		//if(icons[icon] == undefined){
		//	image += "clear_sky.png";
		//}else{
		//	image += icons[icon];
		//}
		
		//theNewRole.find('img').attr('src', image);   
		
		//theNewRole.find('button').click(function(){
		//	deleteComment(id, theNewComment);
		//});
		
		$('#comments-list').prepend(theNewRole);
		
		theNewRole.show();    		
	}
    
    function getAllUsers(){
		$.ajax({
			url: "/all",
			method: "GET",
			success: function(data){
				data.forEach(function(user){
					addUserToUI(user.code, user.description);
				});  				
			}    			
		});
		
	}
    
    $('#login-form').submit(function(e){
    	e.preventDefault();
    	
    	$.ajax({
    		url: "login",
    		method: "POST",
    		data: {
    			username : $('#username').val(),
    			password : $('#password').val()
 	},
    		success: function(data){
    			window.location.replace(data);
    		},
    		fail : function(){
    			alert("Request failed.....");
    		}    		
    	});
    	
    });

</script>
</body>
</html>